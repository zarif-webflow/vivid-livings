import{c as g,d as u,f as v}from"./chunks/chunk-ISN7ZXVF.js";var L=()=>{let[o]=v(void 0,"error");if(!o)return;let b=u({selector:"[data-carousel-parent][data-featured-listing]"});if(b)for(let a of b){let C=!1,n=a.emblaApi,l=u({selector:"[data-carousel-card]",parent:a}),i=n?.selectedScrollSnap(),S=new Map,p=e=>{if(!l){console.debug("selectCurrentSlide was used before carousel was initialized");return}let c={yPercent:0,opacity:1,stagger:.25,delay:.15,overwrite:!0},r={yPercent:-105,opacity:.5,overwrite:!0};for(let t=0;t<l.length;t++){let d=l[t],f=t===e,m=S.get(t),A=[m?.details,m?.price].filter(s=>s!=null);if(f)o.to(d,{scale:1,x:0,ease:"back",duration:.7}),o.to(A,c);else{let s=t<e,h=s?e-t-1:t-e-1,M=s?"right":"left";d.style.transformOrigin=`${M} top`,o.to(d,{x:()=>{let E=Number.parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--_responsive---featured-listing-carousel--animation-gap-adjustment-percent"));return s?`${E*h}%`:`-${E*h}%`},scale:()=>getComputedStyle(document.documentElement).getPropertyValue("--_responsive---featured-listing-carousel--inactive-slide-scale-ratio"),ease:"back",duration:.7}),o.to(A,r)}}},y=(e,c)=>{if(!C){i=e.selectedScrollSnap();for(let r=0;r<c.length;r++){let t=c[r],d=g({selector:"[data-featured-details]",parent:t}),f=g({selector:"[data-featured-price]",parent:t}),m={details:d,price:f};S.set(r,m)}p(i),C=!0}};n&&l&&y(n,l),a.addEventListener("embla:init",e=>{if(n=e.detail.embla,l=u({selector:"[data-carousel-card]",parent:a}),!l){console.error("Carousel cards not found during embla:init");return}y(n,l)}),a.addEventListener("embla:select",e=>{n=e.detail.embla,i=n.selectedScrollSnap(),p(i)}),a.addEventListener("embla:reInit",e=>{n=e.detail.embla,i=n.selectedScrollSnap(),p(i)})}};L();
