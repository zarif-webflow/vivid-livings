import"./chunks/chunk-Y6SLVHK3.js";var b=({selector:s,parent:t,log:o="debug"})=>{let e=(t||document).querySelector(s);return e===null?(o===!1||(o==="debug"?console.debug:console.error)(`${o.toUpperCase()}: Element with selector "${s}" not found in ${t!==void 0?"the specified parent element:":"the document."}`,t),null):e},p=({selector:s,parent:t,log:o="debug"})=>{let e=Array.from((t||document).querySelectorAll(s));return e.length===0?(o===!1||(o==="debug"?console.debug:console.error)(`${o.toUpperCase()}: No elements found with selector "${s}" in ${t!==void 0?"the specified parent element:":"the document."}`,t),null):e};var A=()=>{let s=p({selector:"[data-carousel-parent][data-featured-listing]"});if(s)for(let t of s){let o=!1,e=t.emblaApi,r=p({selector:"[data-carousel-card]",parent:t}),i=e?.selectedScrollSnap(),h=new Map,E=n=>{if(!r){console.debug("selectCurrentSlide was used before carousel was initialized");return}let m={yPercent:0,opacity:1,stagger:.25,delay:.15,overwrite:!0},a={yPercent:-105,opacity:.5,overwrite:!0};for(let l=0;l<r.length;l++){let c=r[l],f=l===n,u=h.get(l),C=[u?.details,u?.price].filter(d=>d!=null);if(f)gsap.to(c,{scale:1,x:0,ease:"back",duration:.7}),gsap.to(C,m);else{let d=l<n,M=d?n-l-1:l-n-1,S=d?"right":"left";c.style.transformOrigin=`${S} top`,gsap.to(c,{x:()=>{let g=Number.parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--_responsive---featured-listing-carousel--animation-gap-adjustment-percent"));return d?`${g*M}%`:`-${g*M}%`},scale:()=>getComputedStyle(document.documentElement).getPropertyValue("--_responsive---featured-listing-carousel--inactive-slide-scale-ratio"),ease:"back",duration:.7}),gsap.to(C,a)}}},y=(n,m)=>{if(!o){i=n.selectedScrollSnap();for(let a=0;a<m.length;a++){let l=m[a],c=b({selector:"[data-featured-details]",parent:l}),f=b({selector:"[data-featured-price]",parent:l}),u={details:c,price:f};h.set(a,u)}E(i),o=!0}};e&&r&&y(e,r),t.addEventListener("embla:init",n=>{if(e=n.detail.embla,r=p({selector:"[data-carousel-card]",parent:t}),!r){console.error("Carousel cards not found during embla:init");return}y(e,r)}),t.addEventListener("embla:select",n=>{e=n.detail.embla,i=e.selectedScrollSnap(),E(i)}),t.addEventListener("embla:reInit",n=>{e=n.detail.embla,i=e.selectedScrollSnap(),E(i)})}};A();
