const v=()=>{const S=Array.from(document.querySelectorAll("[data-carousel-parent][data-featured-listing]"));for(const r of S){let a=r.emblaApi,l=Array.from(r.querySelectorAll("[data-carousel-card]")),o=a?.selectedScrollSnap();const p=new Map,d=e=>{if(l===void 0){console.debug("selectCurrentSlide was used before carousel was initialized");return}const s={yPercent:0,opacity:1,stagger:.25,delay:.15,overwrite:!0},i={yPercent:-105,opacity:.5,overwrite:!0};for(let t=0;t<l.length;t++){const n=l[t],u=t===e,m=p.get(t),g=[m?.details,m?.price].filter(c=>c!=null);if(u)gsap.to(n,{scale:1,x:0,ease:"back",duration:.7}),gsap.to(g,s);else{const c=t<e,f=c?e-t-1:t-e-1,b=c?"right":"left";n.style.transformOrigin=`${b} center`,gsap.to(n,{x:()=>{const y=Number.parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--_responsive---featured-listing-carousel--animation-gap-adjustment-percent"));return c?`${y*f}%`:`-${y*f}%`},scale:()=>getComputedStyle(document.documentElement).getPropertyValue("--_responsive---featured-listing-carousel--inactive-slide-scale-ratio"),ease:"back",duration:.7}),gsap.to(g,i)}}};r.addEventListener("embla:init",e=>{a=e.detail.embla,l=Array.from(r.querySelectorAll("[data-carousel-card]")),o=a.selectedScrollSnap();for(let s=0;s<l.length;s++){const i=l[s],t=i.querySelector("[data-featured-details]"),n=i.querySelector("[data-featured-price]"),u={details:t,price:n};p.set(s,u)}d(o)}),r.addEventListener("embla:select",e=>{a=e.detail.embla,o=a.selectedScrollSnap(),d(o)}),r.addEventListener("embla:reInit",e=>{a=e.detail.embla,o=a.selectedScrollSnap(),d(o)})}};v();
